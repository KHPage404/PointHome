<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pointhome.www.freeboard.dao.face.FreeBoardDao">

	<select id="selectAll" resultType="FreeBoard" parameterType="Paging">
		
		select * from (
			select rownum rnum , B.*  from ( 
				select * from freeboard 
				order by freeboard_no desc 
			) B 
		)board
		where rnum between #{startNo} and #{endNo}
		
	</select>
	
	<select id="selectCntAll" resultType="int">
		select count(*) from freeboard	
	
	</select>

	<update id="hit" parameterType="int">
		update freeboard set  freeboard_hit = freeboard_hit+1
		where freeboard_no = #{freeboard_no}
		
	
	</update>	
	<select id="viewBoard" resultType="FreeBoard" parameterType="int">
	
		select * from freeboard
		where freeboard_no = #{freeboard_no}
	
	</select>
	
<<<<<<< HEAD
	<insert id="insertBoard" parameterType="FreeBoard">
		<selectKey order="BEFORE" resultType="int" keyProperty="freeboardNo">
			SELECT freeboard_no_seq.nextval FROM dual
		</selectKey>
=======
	<select id="viewBoardComment" resultType="FreeBoardComment" parameterType="int">
	
		select * from freeboard_comment
		where freeboard_no = #{freeboard_no}
>>>>>>> branch 'master' of https://github.com/KHPage404/PointHome.git
		
<<<<<<< HEAD
		INSERT INTO freeboard ( freeboard_no, freeboard_title, freeboard_content, user_no )
		VALUES ( #{freeboardNo}, #{freeboardTitle}, #{freeboardContent}, #{userNo} )
	</insert>
		
		
	<insert id="insertFile" parameterType="FreeBoardFile">
		insert into freeboard_file 
		(freeboardfile_no
	    , freeboard_no 
	    , freeboardfile_origin
	    , freeboardfile_stored)
		values ( freeboardfile_no_seq.nextval, #{freeboardNo}, #{freeboardfileOrigin}, #{freeboardfileStored})
	</insert>
=======
	</select>


	<insert id="insertBoardComment" parameterType="FreeBoardComment">
 		INSERT INTO freeboard_comment (freeboard_no, comm_content )
 		VALUES (#{freeboardNo}, #{commContent})
 	</insert>
	
		
<!-- 	<insert id="
		fileInsert " parameterType="freeboard.dto.Filetest">
		-->
<!-- 		insert into boardfile (file_no -->
<!--     , board_no  -->
<!--     , origin_name -->
<!--     , stored_name) -->
<!-- 		values ( #{file_no}, #{board_no}, #{origin_name}, #{stored_name}) -->
<!-- 	</insert> -->
>>>>>>> branch 'master' of https://github.com/KHPage404/PointHome.git



</mapper>